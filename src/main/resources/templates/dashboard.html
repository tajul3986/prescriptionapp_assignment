<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Dashboard</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/dashboardstyle.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
</head>
<body>
    <div class="container">
        <div class="header">
            <h2>ğŸ“‹ Prescriptions</h2>
            <div class="button-group">
            
             <!-- Filter Form -->
			<div class="filter-card">
			    <h3>Filter Prescriptions</h3>
			    <form method="get" th:action="@{/dashboard}" class="filter-form">
			        <div class="filter-row">
			
			            <div class="filter-item">
			                <label>ğŸ“… Start Date</label>
			                <input type="date" name="start" th:value="${start}">
			            </div>
			
			            <div class="filter-item">
			                <label>ğŸ“… End Date</label>
			                <input type="date" name="end" th:value="${end}">
			            </div>
			
			            <div class="filter-item">
			                <button type="submit" class="filter-btn">ğŸ” Apply Filter</button>
			            </div>
			        </div>
			    </form>
			</div>
            
                <a th:href="@{/daily-report}">
                    <button class="btn btn-primary">
                        ğŸ“Š Prescription Report
                    </button>
                </a>
                <a th:href="@{/add-prescription}">
                    <button class="btn btn-success">
                        â• Add New
                    </button>
                </a>
                <a th:href="@{/logout}">
                    <button class="btn btn-danger">
                        ğŸšª Logout
                    </button>
                </a>
            </div>
        </div>
        

        <div class="table-container">
            <table>
                <thead>
                    <tr>
                        <th>Date</th>
                        <th>Patient Name</th>
                        <th>Age</th>
                        <th>Gender</th>
                        <th>Diagnosis</th>
                        <th>Medicines</th>
                        <th>Next Visit</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="p : ${prescriptions}">
                        <td th:text="${p.prescriptionDate}"></td>
                        <td th:text="${p.patientName}"></td>
                        <td th:text="${p.patientAge}"></td>
                        <td th:text="${p.patientGender}"></td>
                        <td th:text="${p.diagnosis}"></td>
                        <td th:text="${p.medicines}"></td>
                        <td th:text="${p.nextVisitDate}"></td>
                        <td>
                            <div class="action-buttons">
                                <a th:href="@{'/edit-prescription/' + ${p.id}}">
                                    <button class="btn btn-success btn-small">
                                        âœï¸ Edit
                                    </button>
                                </a>
                                <a th:href="@{'/delete-prescription/' + ${p.id}}" onclick="return confirm('Are you sure?')">
                                    <button class="btn btn-danger btn-small">
                                        ğŸ—‘ï¸ Delete
                                    </button>
                                </a>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</body>
</html>